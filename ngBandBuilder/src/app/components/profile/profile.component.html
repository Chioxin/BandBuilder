<html>
<div *ngIf="myProfile" class="container">
  <div id="titleArea" class="col">
    <div id="titleOwnerView" *ngIf="viewerIsOwner">
      <div>
        <br>
        <div class="container">
          <div class="row">
            <div class="col-sm">
              <h1>{{myProfile.firstName}} {{myProfile.lastName}}</h1>
            </div>
            <div class="col-sm">
              <img id="profileImage" src="{{myProfile.image.url}}">
            </div>
          </div>
        </div>
      <ngb-tabset *ngIf="viewerIsOwner">
        <ngb-tab title="User Details">
          <ng-template ngbTabContent>
            <div *ngIf="!isEditingProfile" class="container">
              <br>
              <div class="input-group mb-3">
                  <div class="input-group-prepend">
                    <span class="input-group-text" id="firstName">First Name</span>
                  </div>
                  <input type="text" class="form-control" name="firstName" placeholder="{{myProfile.firstName}}" [(ngModel)]="editProfile.firstName" disabled>
              </div>
              <div class="input-group mb-3">
                  <div class="input-group-prepend">
                    <span class="input-group-text" id="lastName">Last Name</span>
                  </div>
                  <input type="text" class="form-control" name="lastName" placeholder="{{myProfile.lastName}}" [(ngModel)]="editProfile.lastName" disabled>
              </div>
              <div class="input-group mb-3">
                  <div class="input-group-prepend">
                    <span class="input-group-text" id="phone">Phone</span>
                  </div>
                  <input type="text" class="form-control" name="phone" placeholder="{{myProfile.address.phone}}" [(ngModel)]="editProfile.address.phone" disabled>
              </div>
              <div class="input-group mb-3">
                  <div class="input-group-prepend">
                    <span class="input-group-text" id="phone">About Me</span>
                  </div>
                  <textarea class="form-control" name="aboutMe" placeholder="{{myProfile.aboutMe}}" [(ngModel)]="editProfile.aboutMe" disabled></textarea>
              </div>
              <div class="input-group mb-3">
                  <div class="input-group-prepend">
                    <span class="input-group-text" id="phone">Image Url</span>
                  </div>
                  <textarea class="form-control" name="url" placeholder="{{myProfile.image.url}}" [(ngModel)]="editProfile.image.url" disabled></textarea>
              </div>
              <button class="btn btn-primary" (click)="flipIsEditingProfile()">Edit</button>
            </div>
            <div *ngIf="isEditingProfile">
              <form class='form' class="container">
                  <br>
                  <div class="input-group mb-3">
                      <div class="input-group-prepend">
                        <span class="input-group-text" id="basic-addon1">First Name</span>
                      </div>
                      <input type="text" class="form-control" name="firstName" placeholder="{{myProfile.firstName}}" [(ngModel)]="editProfile.firstName">
                  </div>
                  <div class="input-group mb-3">
                      <div class="input-group-prepend">
                        <span class="input-group-text" id="basic-addon1">Last Name</span>
                      </div>
                      <input type="text" class="form-control" name="lastName" placeholder="{{myProfile.lastName}}" [(ngModel)]="editProfile.lastName">
                  </div>
                  <div class="input-group mb-3">
                      <div class="input-group-prepend">
                        <span class="input-group-text" id="basic-addon1">Phone</span>
                      </div>
                      <input type="text" class="form-control" name="phone" placeholder="{{myProfile.address.phone}}" [(ngModel)]="editProfile.address.phone">
                  </div>
                  <div class="input-group mb-3">
                      <div class="input-group-prepend">
                        <span class="input-group-text" id="basic-addon1">About Me</span>
                      </div>
                      <textarea class="form-control" name="aboutMe" placeholder="{{myProfile.aboutMe}}" [(ngModel)]="editProfile.aboutMe"></textarea>
                  </div>
                  <div class="input-group mb-3">
                      <div class="input-group-prepend">
                        <span class="input-group-text" id="imageUrl">Image Url</span>
                      </div>
                      <textarea class="form-control" name="url" placeholder="{{myProfile.image.url}}" [(ngModel)]="editProfile.image.url"></textarea>
                  </div>
                  <div class="form-group">
                    <button class="btn btn-primary" (click)="profileSaveEdit()">Save</button>
                    <button class="btn btn-danger" (click)="profileCancelEdit()">Cancel</button>
                  </div>
              </form>
            </div>
          </ng-template>
        </ngb-tab>
        <ngb-tab title="Address">
          <ng-template ngbTabContent>
              <div *ngIf="!isEditingProfile" class="container">
                  <br>
                  <div class="input-group mb-3">
                      <div class="input-group-prepend">
                        <span class="input-group-text" id="street">Street</span>
                      </div>
                      <input type="text" class="form-control" name="street" placeholder="{{myProfile.address.street}}" [(ngModel)]="editProfile.address.street" disabled>
                  </div>
                  <div class="input-group mb-3">
                      <div class="input-group-prepend">
                        <span class="input-group-text" id="street2">Street 2</span>
                      </div>
                      <input type="text" class="form-control" name="street" placeholder="{{myProfile.address.street2}}" [(ngModel)]="editProfile.address.street2" disabled>
                  </div>
                  <div class="input-group mb-3">
                      <div class="input-group-prepend">
                        <span class="input-group-text" id="city">City</span>
                      </div>
                      <input type="text" class="form-control" name="city" placeholder="{{myProfile.address.city}}" [(ngModel)]="editProfile.address.city" disabled>
                  </div>
                  <div class="input-group mb-3">
                      <div class="input-group-prepend">
                        <span class="input-group-text" id="city">State</span>
                      </div>
                      <input type="text" class="form-control" name="state" placeholder="{{myProfile.address.state}}" [(ngModel)]="editProfile.address.state" disabled>
                  </div>
                  <div class="input-group mb-3">
                      <div class="input-group-prepend">
                        <span class="input-group-text" id="zip">Zip Code</span>
                      </div>
                      <input type="text" class="form-control" name="zip" placeholder="{{myProfile.address.zip}}" [(ngModel)]="editProfile.address.zip" disabled>
                  </div>
                  <button class="btn btn-primary" (click)="flipIsEditingProfile()">Edit</button>
              </div>
              <div *ngIf="isEditingProfile" class="container">
                  <br>
                  <div class="input-group mb-3">
                      <div class="input-group-prepend">
                        <span class="input-group-text" id="street">Street</span>
                      </div>
                      <input type="text" class="form-control" name="street" placeholder="{{myProfile.address.street}}" [(ngModel)]="editProfile.address.street">
                  </div>
                  <div class="input-group mb-3">
                      <div class="input-group-prepend">
                        <span class="input-group-text" id="street2">Street 2</span>
                      </div>
                      <input type="text" class="form-control" name="street" placeholder="{{myProfile.address.street2}}" [(ngModel)]="editProfile.address.street2">
                  </div>
                  <div class="input-group mb-3">
                      <div class="input-group-prepend">
                        <span class="input-group-text" id="city">City</span>
                      </div>
                      <input type="text" class="form-control" name="city" placeholder="{{myProfile.address.city}}" [(ngModel)]="editProfile.address.city">
                  </div>
                  <div class="input-group mb-3">
                      <div class="input-group-prepend">
                        <span class="input-group-text" id="city">State</span>
                      </div>
                      <input type="text" class="form-control" name="state" placeholder="{{myProfile.address.state}}" [(ngModel)]="editProfile.address.state">
                  </div>
                  <div class="input-group mb-3">
                      <div class="input-group-prepend">
                        <span class="input-group-text" id="zip">Zip Code</span>
                      </div>
                      <input type="text" class="form-control" name="zip" placeholder="{{myProfile.address.zip}}" [(ngModel)]="editProfile.address.zip">
                  </div>
                  <div class="form-group">
                      <button class="btn btn-primary" (click)="profileSaveEdit()">Save</button>
                      <button class="btn btn-danger" (click)="profileCancelEdit()">Cancel</button>
                  </div>
              </div>
          </ng-template>
        </ngb-tab>
        <ngb-tab title="Instruments">
          <ng-template ngbTabContent>
            <table class='table table-striped table-hover'>
              <thead class='thead-dark'>
                <tr>
                  <th>Name</th>
                  <th>Experience</th>
                  <th>Description</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor='let myInstrument of myInstruments'>
                    <td (click)="redirectUserInstrument(myInstrument.id)" *ngIf="myInstrument.active">{{myInstrument.instrument.name}}</td>
                    <td (click)="redirectUserInstrument(myInstrument.id)" *ngIf="myInstrument.active">{{myInstrument.experience}}</td>
                    <td (click)="redirectUserInstrument(myInstrument.id)" *ngIf="myInstrument.active">{{myInstrument.description}}</td>
                </tr>
              </tbody>
            </table>
          </ng-template>
        </ngb-tab>
        <ngb-tab title="Bands">
          <ng-template ngbTabContent>
            <table class='table table-striped table-hover'>
              <thead class='thead-dark'>
                <tr>
                  <th>Name</th>
                  <th>Email</th>
                  <th>Genre</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor='let myBand of myBands'>
                  <td (click)="redirectBand(myBand.id)">{{myBand.name}}</td>
                  <td>{{myBand.email}}</td>
                  <td>{{myBand.genre}}</td>
                </tr>
              </tbody>
            </table>
          </ng-template>
        </ngb-tab>
      </ngb-tabset>
      </div>
    </div>
    <div id="titleOwnerView" *ngIf="!viewerIsOwner">
      <div>
          <img id="profileImage" src="{{myProfile.image.url}}">
      </div>
      <div>
        <br>
        <h1>{{myProfile.firstName}} {{myProfile.lastName}}</h1><br>
        <ngb-tabset *ngIf="!viewerIsOwner">
            <ngb-tab title="User Details">
              <ng-template ngbTabContent>
                <div class="container">
                  <br>
                  <div class="input-group mb-3">
                      <div class="input-group-prepend">
                        <span class="input-group-text" id="firstName">First Name</span>
                      </div>
                      <input type="text" class="form-control" name="firstName" placeholder="{{myProfile.firstName}}" [(ngModel)]="editProfile.lastName" disabled>
                  </div>
                  <div class="input-group mb-3">
                      <div class="input-group-prepend">
                        <span class="input-group-text" id="lastName">Last Name</span>
                      </div>
                      <input type="text" class="form-control" name="lastName" placeholder="{{myProfile.lastName}}" [(ngModel)]="editProfile.lastName" disabled>
                  </div>
                </div>
              </ng-template>
            </ngb-tab>
            <ngb-tab title="Address">
              <ng-template ngbTabContent>

              </ng-template>
            </ngb-tab>
        </ngb-tabset>
      </div>
    </div>
  </div>
</div>
</html>
